function e(e){return e&&e.__esModule?e.default:e}var t,n,s={};t=s,n=function(){return function(e,{items:t=[],typeSpeed:n=100,deleteSpeed:s=50,delayBetweenItems:o=2e3,loop:r=!0,startDelay:i=0,startsAtIndex:a=0,cursor:l=!0,cursorChar:c="|",cursorCharBlinkSpeed:d=500,cursorCharBlinkTransitionSpeed:u=.15,startOnView:p=!0,startOnViewOffset:m=0}={}){if(!t.length)throw new Error("tinyTypewriter: No items option was provided");let g,h,y,f,v=!1,w=a,b=t[w],S=e.getBoundingClientRect();const T=document.createElement("span");function L(i){const a=i.length,l=t[w%a];if(v?(g=s,b=l.substring(0,b.length-1)):b=l.substring(0,b.length+1),e.textContent=`${b}`,!r&&b===i[a-1])return clearTimeout(y),clearTimeout(h),void clearInterval(f);v||b!==l?v&&""===b&&(v=!1,w++,g=n):(v=!0,g=o),y=setTimeout((function(){L(t)}),g)}T.textContent=c,l&&(e.insertAdjacentElement("afterend",T),T.style.transition=`opacity ${u}s`,f=setInterval((()=>{T.style.opacity="0"===T.style.opacity?"1":"0"}),d)),e.textContent=t[0],!p||S.bottom<=window.innerHeight&&S.top>=0?h=setTimeout((function(){L(t)}),i-o):window.addEventListener("scroll",(function n(){S=e.getBoundingClientRect(),S.bottom<=window.innerHeight-m&&S.top>=0+m&&(h=setTimeout((function(){L(t)}),i-o),window.removeEventListener("scroll",n))}),!1)}},"object"==typeof s?s=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).tinyTypewriter=n();(async()=>{const e=document.querySelector(".progress-line"),t=document.querySelector(".supporters"),n=await(await fetch("https://2b2t.org.ru/api/donate")).json();n.donators.sort(((e,t)=>t.amount-e.amount)).forEach((e=>{const n=((e,t)=>{const n=document.createElement("div");n.classList.add("supporter"),t>=500&&n.classList.add("blogread"),t>=300&&n.classList.add("captchaskip"),t>=100&&n.classList.add("queueskip");const s=e.split(/[^A-Za-z0-9_]+/g).filter((e=>e.length>=2)),o=s.length>0?`https://2b2t.org.ru/api/avatar/${s.slice(-1)[0]}.svg`:"https://ely.by/images/skins/steve-face.png";return n.innerHTML=`\n    <img class="avatar" src="${o}" onerror="this.src='https://ely.by/images/skins/steve-face.png';this.onerror=''" alt="${e}">\n    <div class="user">\n      <div class="nickname">${e}</div>\n      <div class="amount">${t} ₽</div>\n    </div>`,n})(e.username,parseFloat(e.amount));t.append(n)})),document.querySelector(".donate-description").innerText=`Мы собираем на оплату сервера ${n.progress.title.split(" ").slice(2).join(" ")}. Из ${n.progress.goal_amount} рублей пока собрано ${n.progress.raised_amount}.`;const s=["sad","confused","ok","inlove","batman","impossible"];Array.from({length:5}).forEach(((t,o)=>{const r=n.progress.goal_amount/5*o-n.progress.raised_amount,i=r<0?" done":"",a=r<0&&Math.abs(r)<n.progress.goal_amount/5?" "+s[o]:"";e.innerHTML+=`<div class="mini-goal${i+a}"></div>`}));const o=document.querySelectorAll(".done").length-1,r=(n.progress.raised_amount-n.progress.goal_amount/5*o)/(n.progress.goal_amount/5)*100;document.querySelector(":root").style.setProperty("--minigoal-percent",`${r}%`),t.style.height=89*Math.ceil(n.donators.length/2)+"px",e.style.height="32px",setTimeout((()=>{t.classList.remove("hidden"),e.classList.remove("hidden"),t.style.height=null}),500)})();const o=document.querySelector(".typewriter");e(s)(o,{items:["родной","обнять белую березку","я знал, что ты вернешься","твой, мой, наш","мммм, тпс..."]});let r=0;window.plusSlides=e=>{const t=document.querySelectorAll(".quote");r+=e,r<0&&(r=t.length-1),r>=t.length&&(r=0),document.querySelector(".quote.active").classList.remove("active"),t[r].classList.add("active")},setInterval((()=>plusSlides(1)),1e4);