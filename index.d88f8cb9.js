function e(e){return e&&e.__esModule?e.default:e}var t={};t=function(){function e(e,{items:t=[],typeSpeed:s=100,deleteSpeed:n=50,delayBetweenItems:i=2e3,loop:o=!0,startDelay:a=0,startsAtIndex:r=0,cursor:l=!0,cursorChar:c="|",cursorCharBlinkSpeed:d=500,cursorCharBlinkTransitionSpeed:u=.15,startOnView:m=!0,startOnViewOffset:h=0}={}){if(!t.length)throw new Error("tinyTypewriter: No items option was provided");let p,g,y,v,f=!1,S=r,w=t[S],b=e.getBoundingClientRect();const L=document.createElement("span");function T(a){const r=a.length,l=t[S%r];if(f?(p=n,w=l.substring(0,w.length-1)):w=l.substring(0,w.length+1),e.textContent=`${w}`,!o&&w===a[r-1])return clearTimeout(y),clearTimeout(g),void clearInterval(v);f||w!==l?f&&""===w&&(f=!1,S++,p=s):(f=!0,p=i),y=setTimeout((function(){T(t)}),p)}function $(){b=e.getBoundingClientRect(),b.bottom<=window.innerHeight-h&&b.top>=0+h&&(g=setTimeout((function(){T(t)}),a-i),window.removeEventListener("scroll",$))}L.textContent=c,l&&(e.insertAdjacentElement("afterend",L),L.style.transition=`opacity ${u}s`,v=setInterval((()=>{L.style.opacity="0"===L.style.opacity?"1":"0"}),d)),e.textContent=t[0],!m||b.bottom<=window.innerHeight&&b.top>=0?g=setTimeout((function(){T(t)}),a-i):window.addEventListener("scroll",$,!1)}return e}();!function(){const s=document.querySelector(".typewriter");e(t)(s,{items:["родной","обнять белую березку","я знал, что ты вернешься","твой, мой, наш","мммм, тпс..."]})}(),new class{constructor(e,t=!1,s){this.slide=0,this.className=e,this.autoSwitch=t,this.callback=s,document.getElementById("prevSlide").addEventListener("click",(()=>this.updateSlide(-1))),document.getElementById("nextSlide").addEventListener("click",(()=>this.updateSlide(1))),this.updateSlide(0)}updateSlide(e,t=!1){const s=document.querySelectorAll(this.className);t?this.slide=e:this.slide+=e,this.slide<0&&(this.slide=s.length-1),this.slide>=s.length&&(this.slide=0),document.querySelector(this.className+".active")||document.querySelector(this.className).classList.add("active"),document.querySelector(this.className+".active").classList.remove("active"),s[this.slide].classList.add("active"),this.autoSwitch&&(clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.updateSlide(1)),1e4)),this.callback&&this.callback(this.slide)}}(".quote",!0);(async()=>{const e=document.querySelector(".progress-line"),t=document.querySelector(".supporters"),s=await(await fetch("https://2b2t.org.ru/api/donate")).json();s.donators.reduce(((e,t)=>{const s=e.findIndex((e=>e.username===t.username));return s>=0?e[s].amount=parseFloat(e[s].amount)+parseFloat(t.amount):e.push(t),e}),[]).sort(((e,t)=>t.amount-e.amount)).forEach((e=>{const s=((e,t,s)=>{const n=document.createElement("div");n.classList.add("supporter"),t>=500&&n.classList.add("blogread"),t>=300&&n.classList.add("captchaskip"),t>=100&&n.classList.add("queueskip");const i=e.split(/[^A-Za-z0-9_]+/g).filter((e=>e.length>=2)),o=i.length>0?`https://2b2t.org.ru/api/avatar/${i.slice(-1)[0]}.svg`:"https://ely.by/images/skins/steve-face.png",a=s?.ton?` | ${s.ton} TON`:"";return n.innerHTML=`\n    <img class="avatar" src="${o}" onerror="this.src='https://ely.by/images/skins/steve-face.png';this.onerror=''" alt="${e}">\n    <div class="user">\n      <div class="nickname">${e}</div>\n      <div class="amount">${t} ₽${a}</div>\n    </div>`,n})(e.username,parseFloat(e.amount),e);t.append(s)})),document.querySelector(".donate-description").innerText=`Мы собираем на оплату сервера ${s.progress.title.split(" ").slice(2).join(" ")}. Из ${s.progress.goal_amount} рублей пока собрано ${s.progress.raised_amount}.`;const n=["sad","confused","ok","inlove","batman","impossible"];Array.from({length:5}).forEach(((t,i)=>{const o=s.progress.goal_amount/5*i-s.progress.raised_amount,a=o<0?" done":"",r=o<0&&Math.abs(o)<s.progress.goal_amount/5?" "+n[i]:"";e.innerHTML+=`<div class="mini-goal${a+r}"></div>`}));const i=document.querySelectorAll(".done").length-1,o=(s.progress.raised_amount-s.progress.goal_amount/5*i)/(s.progress.goal_amount/5)*100;document.querySelector(":root").style.setProperty("--minigoal-percent",`${o}%`),t.style.height=89*Math.ceil(s.donators.length/2)+"px",e.style.height="32px",setTimeout((()=>{t.classList.remove("hidden"),e.classList.remove("hidden"),t.style.height=null}),500)})();